"use strict";var WPMailSMTP=window.WPMailSMTP||{};WPMailSMTP.Admin=WPMailSMTP.Admin||{},WPMailSMTP.Admin.Logs=WPMailSMTP.Admin.Logs||function(e,a){var o={init:function(){a(e).ready(o.ready)},ready:function(){o.pageHolder=a(".wp-mail-smtp-page-logs"),o.bindActions(),o.pageHolder.trigger("WPMailSMTP.Admin.Logs.ready")},bindActions:function(){jQuery(".wp-mail-smtp-page-logs-single").on("click",".js-wp-mail-smtp-pro-logs-email-delete",o.single.processDelete).on("click",".js-wp-mail-smtp-pro-logs-toggle-extra-details",o.single.processExtraDetailsToggle).on("click",".js-wp-mail-smtp-pro-logs-close-extra-details",o.single.processExtraDetailsClose),o.pageHolder.on("click","#wp-mail-smtp-delete-all-logs-button",o.archive.deleteAllEmailLogs)},single:{processDelete:function(){return confirm(wp_mail_smtp_logs.text_email_delete_sure)},processExtraDetailsToggle:function(){var e=a(this);e.hasClass("open")?e.siblings(".email-header-details").slideUp("fast",function(){e.removeClass("open"),e.find(".dashicons").removeClass("dashicons-arrow-up").addClass("dashicons-arrow-down")}):e.siblings(".email-header-details").slideDown("fast",function(){e.addClass("open"),e.find(".dashicons").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-up")})},processExtraDetailsClose:function(e){jQuery(e.target).parents(".email-extra-details").find("h2.open").click()}},archive:{deleteAllEmailLogs:function(e){e.preventDefault();var i=a(e.target);a.confirm({backgroundDismiss:!1,escapeKey:!0,animationBounce:1,theme:"modern",animateFromElement:!1,draggable:!1,closeIcon:!0,useBootstrap:!1,type:"orange",boxWidth:"450px",icon:'"></i><img src="'+wp_mail_smtp_logs.plugin_url+'/assets/images/font-awesome/exclamation-circle-solid-orange.svg" style="width: 40px; height: 40px;" alt="'+wp_mail_smtp_logs.icon+'"><i class="',title:wp_mail_smtp_logs.heads_up_title,content:wp_mail_smtp_logs.delete_all_email_logs_confirmation_text,buttons:{confirm:{text:wp_mail_smtp_logs.yes_text,btnClass:"wp-mail-smtp-btn wp-mail-smtp-btn-md wp-mail-smtp-btn-orange",keys:["enter"],action:function(){o.archive.executeAllEmailLogEntriesDeletion(i)}},cancel:{text:wp_mail_smtp_logs.cancel_text}}})},executeAllEmailLogEntriesDeletion:function(t){t.prop("disabled",!0);var e={action:"wp_mail_smtp_delete_all_log_entries",nonce:a("#wp-mail-smtp-delete-log-entries-nonce",o.pageHolder).val()};a.post(ajaxurl,e,function(e){var i,s,l,a=e.data;l=e.success?(i="check-circle-solid-green",s="green",function(){return location.reload(),!1}):(i="exclamation-circle-regular-red",s="red",function(){}),o.displayModal(a,i,s,l),t.prop("disabled",!1)}).fail(function(){o.displayModal(wp_mail_smtp_logs.error_occurred,"exclamation-circle-regular-red","red",function(){}),t.prop("disabled",!1)})}},displayModal:function(e,i,s,l){a.alert({backgroundDismiss:!0,escapeKey:!0,animationBounce:1,theme:"modern",type:s,animateFromElement:!1,draggable:!1,closeIcon:!0,useBootstrap:!1,title:!1,icon:'"></i><img src="'+wp_mail_smtp_logs.plugin_url+"/assets/images/font-awesome/"+i+'.svg" style="width: 40px; height: 40px;" alt="'+wp_mail_smtp_logs.icon+'"><i class="',content:e,boxWidth:"350px",buttons:{confirm:{text:wp_mail_smtp_logs.ok,btnClass:"btn-confirm",keys:["enter"],action:l}}})}};return o}(document,(window,jQuery)),WPMailSMTP.Admin.Logs.init();